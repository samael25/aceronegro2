<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button color="warning" (click)="cancel()">Cancel</ion-button>
    </ion-buttons>
    <ion-title>{{isEditable ? 'Actualizar': 'Agregar'}} Usuario</ion-title>
    <ion-buttons slot="end">
      <ion-button color="primary" (click)="onSubmit()">Confirm</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding back" mode="md">
  <div class="flex-content">
    <ion-card class="ion-padding">

      <div class="di">
        <img src="assets/15.png" />
      </div>
      <form [formGroup]="userForm" (ngSubmit)="onSubmit()">

        <ion-item class="it" fill="outline">
          <ion-label position="floating" class="text-color-primary">Nombre</ion-label>
          <ion-input color="primary" type="text" formControlName="Nombre" placeholder="Nombre completo"></ion-input>
          <ion-icon color="primary" slot="end" name="person-outline"></ion-icon>
        </ion-item>
        <ion-error-message [control]="form.Nombre" nomCampo="Nombre"></ion-error-message>
        <br>

        <ion-item class="it" fill="outline">
          <ion-label position="floating" class="text-color-primary">Descripcion</ion-label>
          <ion-textarea color="primary" formControlName="Descripcion" placeholder="Descripcion"></ion-textarea>
          <ion-icon color="primary" slot="end" name="book-outline"></ion-icon>
        </ion-item>
        <ion-error-message [control]="form.Descripcion" nomCampo="Descripcion"></ion-error-message>
        <br>

        <ion-item class="it" fill="outline">
          <ion-label position="floating" class="text-color-primary">Habilidad</ion-label>
          <ion-select formControlName="IdHabilidad" placeholder="Seleccione tipo de habilidad">
            <ion-select-option *ngFor="let item of habilidad$ | async" [value]="item.IdHabilidad">{{item.Nombre}}</ion-select-option>
          </ion-select>
          <ion-icon color="primary" slot="end" name="skull-outline"></ion-icon>
        </ion-item>
        <ion-error-message [control]="form.IdHabilidad" nomCampo="Habilidad"></ion-error-message>

        
        <ion-item class="it" fill="outline">
          <ion-label position="floating" class="text-color-primary">Reino</ion-label>
          <ion-select formControlName="IdReino" placeholder="Seleccione el Reino">
            <ion-select-option *ngFor="let item of reino$ | async" [value]="item.IdReino">{{item.Nombre}}</ion-select-option>
          </ion-select>
          <ion-icon color="primary" slot="end" name="earth-outline"></ion-icon>
        </ion-item>
        <ion-error-message [control]="form.IdReino" nomCampo="Reino"></ion-error-message>

        
        <ion-item class="it" fill="outline">
          <ion-label position="floating" class="text-color-primary">Señorio</ion-label>
          <ion-select formControlName="IdSeniorio" placeholder="Seleccione el Señorio">
            <ion-select-option *ngFor="let item of seniorio$ | async" [value]="item.IdSeniorio">{{item.Nombre}}</ion-select-option>
          </ion-select>
          <ion-icon color="primary" slot="end" name="shield-half-outline"></ion-icon>
        </ion-item>
        <ion-error-message [control]="form.IdSeniorio" nomCampo="Señorio"></ion-error-message>
<!-- 
        <ion-item class="it" fill="outline">
          <ion-label position="floating" class="text-color-primary">Tipo usuario</ion-label>
          <ion-select formControlName="IdTipoUsuario" placeholder="Seleccione tipo de usuario">
            <ion-select-option *ngFor="let item of tiposUsuario$ | async" [value]="item.IdTipoUsuario">{{item.Nombre}}</ion-select-option>
          </ion-select>
          <ion-icon color="primary" slot="end" name="people-outline"></ion-icon>
        </ion-item>
        <ion-error-message [control]="form.IdTipoUsuario" nomCampo="Tipo usuario"></ion-error-message>

        <ion-item class="it" fill="outline">
          <ion-label position="floating" class="text-color-primary">Rol</ion-label>
          <ion-select formControlName="IdRol" placeholder="Seleccione rol">
            <ion-select-option *ngFor="let item of roles$ | async" [value]="item.IdTipoUsuario">{{item.Nombre}}</ion-select-option>
          </ion-select>
          <ion-icon color="primary" slot="end" name="people-outline"></ion-icon>
        </ion-item>
        <ion-error-message [control]="form.IdRol" nomCampo="Rol"></ion-error-message>

        <ion-item class="it" fill="outline">
          <ion-label position="floating" class="text-color-primary">Clinica</ion-label>
          <ion-select formControlName="IdClinica" placeholder="Seleccione clinica">
            <ion-select-option *ngFor="let item of clinicas$ | async" [value]="item.IdTipoUsuario">{{item.Nombre}}</ion-select-option>
          </ion-select>
          <ion-icon color="primary" slot="end" name="people-outline"></ion-icon>
        </ion-item>
        <ion-error-message [control]="form.IdClinica" nomCampo="Clinica"></ion-error-message> -->

        <!-- <br *ngIf="isEditable">
        <ion-button class="but" *ngIf="isEditable" (click)="openModal( {action: 'add'} )" expand="block" shape="round">
          Nuevo Metodo Contacto
        </ion-button> -->

        <!-- <ion-list *ngFor="let item of metodosContacto$ | async">
          <ion-row>
            <ion-col class="mt" size="8">
              <ion-label>{{item.tipoMetodoContacto.Nombre}}: {{item.Nombre}}</ion-label>
            </ion-col>
            <ion-col size="2">
              <ion-button class="edit" (click)="openModal( {action: 'edit',data: item} )" fill="clear">
                <ion-icon slot="icon-only" size="large" name="create-outline"></ion-icon>
              </ion-button>
            </ion-col>
            <ion-col size="2">
              <ion-button (click)="openModal( {action: 'delete',data: item} )" fill="clear">
                <ion-icon color="danger" slot="icon-only" size="large" name="trash-outline"></ion-icon>
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-list> -->
      </form>
    </ion-card>
  </div>
</ion-content>